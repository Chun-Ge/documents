# 第一次技术报告

15331184 梁天骏 计应

>  系统分析与设计中，我们团队是做一个 **中大树洞**web应用， 本人负责前端架构，因此在确定前端技术栈以及确定规范的过程中也产生了一些个人的理解

## 技术栈确定

###  框架选型：Angular、Vue、React 框架之争

前端目前有三大流行框架-------Angular、Vue、React。这些框架都是基于现有端的业务体系，基于用户体验和开发者体验演进出来技术方案，并没有什么优劣之分，各有各的长处。而在整个前端演进过程中，只是一块很小的内容。

Angular 约束多，擅长复杂中后台场景和多人协作。Vue 灵活，适用于简单业务快速迭代（当然也有 Vue 做中后台的）。React 组件化设计的好，可以实现比较好的组件生态进行复用。对于这些框架，你只需要基于现有的业务体系和开发者经验，做好最佳的技术方案选型即可。在某些场景下甚至 jQuery 反而是更好的技术选型。

而随着端的变化，一轮一轮的框架和技术方案会持续迭代，当新的端或者业务领域出现之后，更适合的库或者框架将会出现。那么 Angular、Vue、React 很容易的就会像现在我们对待 jQuery 一样，被我们更新换代掉。毕竟一个公司赚钱是因为业务赚钱，而不会因为你用了 Vue 或者 Angular 这些技术框架而赚钱。哪个库或者框架适合你的业务形态，可以给你带来稳定的系统和好的用户体验，让你有高效的开发效率，当然就选哪个了。

前端新手很容易会把框架当成前端的全部，比如我大二时刚学会 jQuery 可以用 jQuery 写出任何特效的前端页面，当时的我认为 jQuery 就是前端的全部，用熟了就可以一招走天下。但后来进了学校开发组织，我才会发现 jQuery 只是满足了当时的业务需求，技术框架是随时会变的，不变的是特定业务的解决思想和方案。这个我认为才是非框架研发的前端需要探讨研究的更有价值的内容，比如针对无线页面跨页面跳转的状态本地存储方案、多页面无刷新的单页面路由方案等等。

因此， 虽然个人更为擅长angular， 但基于团队业务需求以及前端小组的情况，个人选定了相对灵活简单的vue作为主框架。

### 为什么选择 TypeScript

TypeScipt有两个主要的目的：

* 为JavaScript提供一个可选的类型系统

* 为当前版本的 JavaScript 引擎提供将来 JavaScript 版本的新功能。

#### TypeScript 类型系统

你可能想知道 “**为什么要往 JavaScript 中添加类型？**”

类型拥有着提高代码质量和可读性的可靠能力。大型团队（例如 google，microsoft，facebook）一直在不断得出这个结论。特别地：

- 在重构时，类型增加了你的敏捷性。 *让编译器捕获错误比在运行时崩溃更好*。
- 类型是你能拥有的最好的文档形式之一。 *函数签名是定理，而函数体则是证明过程*。

然而类型有着不必要的过分严谨。因此 TypeScript 讲究让门槛尽可能地低

#### 未来JavaScript => 现在

TypeScript 为现在的 JavaScript 引擎（只支持 ES5 等等）提供了一系列在 ES6 中出现的特性。TypeScript 团队正积极地添加这些特性，这个列表只会随着时间的推移越来越大，而我们会在它们自己的章节讨论它。仅仅作为一个样品，这里是一个 class 的例子：

```
class Point {
    constructor(public x: number, public y: number) {
    }
    add(point: Point) {
        return new Point(this.x + point.x, this.y + point.y);
    }
}

var p1 = new Point(0, 10);
var p2 = new Point(10, 20);
var p3 = p1.add(p2); // {x:10,y:30}
```

以及我们可爱的箭头函数：

```javascript
var inc = (x)=>x+1;
```

### Stylus，Less，Sass之争

#### less 很棒

除了一些基本功能外，LESS外围的社区环境以及社区成员提供的大量资源是它的最大优势。想必没有一个前端工程没听说过Twitter Bootstrap的框架，这或许也是导致大部分人用LESS的原因之一。

另外一个使LESS脱颖而出的原因就是LESS的第三方库，LESShat，它提供了一系列针对CSS3效果的混写规则，并且还拥有针对Photoshop的配套插件CSShat，能够方便的识别PSD文件并生成LESS代码。假如你的Photoshop文件很复杂，那么这两个工具将会给你的工作流程提供强有力的支持。

还有一个重要因素或许是许多人发现它非常容易上手且易于使用。你可以仅用一个简单的Javascript文件编译它，也可以用IDE内置的编译器，还可以用nodejs在任何机器上编译它。

####  LESS: 为什么不用

LESS在逻辑处理上与另外两个预处理器相比真是大相径庭。LESS只提供了少量的逻辑处理特性，以至于我们不得不为实现某些逻辑而增加代码的书写，这进一步导致了开发变缓以及后期维护成本的增加。

虽然LESS提供了一些逻辑处理，但是相比Stylus和Sass/Scss而言实在是太有限了

### Sass: 非常棒

Sass同样拥有活跃的社区，优质的资源。LESS有Twitter Bootstrap，Sass有Gumby和Foundation。LESS有LESShat，Sass有Compass和Bourbon。

但是相比LESS的逻辑处理能力而言，Sass简直就是神。在逻辑处理上，LESS勉强只能称得上为CSS增强写法，而Sass完全像一个复杂的编程语言。

### Sass：还是不用

最大的痛点就是用Sass的话必须运行Ruby on Rails并且和gems打交道。中大树洞前端项目中都不会用到Ruby，如果为了使用Sass冒着装Ruby而导致的连接错误或者安装错误并去解决它显然有点得不偿失

#### 用 Stylus

显然，LESS由于逻辑处理能力弱出局了，剩下Sass和Stylus，这两个都有一系列强有力的特性支撑。然而，我选择Stylus，因为它既有Sass的强大，也具有LESS的易用性。Stylues能做到所有Sass能做的，或许还更简单。而且Stylus语法非常灵活，允许你不用设置任何东西，就可以使用CSS的不同写法。综上，选用Stlus。
